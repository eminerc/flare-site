<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Flare</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600&family=Source+Sans+Pro:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="stylesheet" href="assets/css/responsive.css">
    <link rel="stylesheet" href="assets/css/strategies.css">
</head>
<body>
    <header class="header">
        <a href="/" class="header-logo">
            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512">
                <defs>
                    <mask id="circle-mask">
                        <circle cx="256" cy="256" r="256" fill="white"/>
                    </mask>
                </defs>
                <g mask="url(#circle-mask)">
                    <path fill="#ff4500" d="M236.000000,513.000000 C157.352402,513.000000 79.204803,513.000000 1.028605,513.000000 C1.028605,342.394043 1.028605,171.788086 1.028605,1.091059 C171.564285,1.091059 342.128632,1.091059 512.846497,1.091059 C512.846497,171.666565 512.846497,342.333252 512.846497,513.000000 C420.788055,513.000000 328.644012,513.000000 236.000000,513.000000 M186.500000,377.957367 C249.621750,377.644836 312.743500,377.330933 375.865234,377.022308 C381.029907,376.997040 386.207428,376.769348 391.357269,377.043335 C412.701172,378.178772 427.182770,359.847809 427.068665,341.088135 C426.794067,295.939697 427.012054,250.788391 426.933075,205.638428 C426.925537,201.335388 426.534119,196.979691 425.791718,192.741135 C423.418518,179.192108 408.330627,165.526917 395.157654,165.065842 C380.690491,164.559479 366.195831,163.797897 351.746338,164.237915 C343.755859,164.481277 339.469849,160.997726 335.869995,154.759567 C329.795471,144.233032 323.501007,133.830566 317.140411,123.473351 C314.651550,119.420685 310.880157,117.046700 305.971466,117.043488 C273.650024,117.022339 241.328445,116.992805 209.007248,117.083107 C203.697815,117.097946 199.389221,119.413361 196.573349,124.135445 C194.441315,127.710724 192.263748,131.259338 190.070206,134.797348 C185.069138,142.863724 180.049194,150.918411 175.030014,158.973557 C172.684998,162.737061 169.243042,163.989243 164.878510,164.130371 C160.937271,164.257797 159.811981,161.976257 158.564240,159.050354 C158.163956,158.111694 156.494324,157.178375 155.389984,157.159790 C145.609894,156.995163 135.823593,156.919617 126.046875,157.148926 C124.640495,157.181915 122.309380,158.782410 122.065353,159.992172 C121.198471,164.289886 118.281776,165.209061 114.680908,166.135757 C99.220528,170.114578 87.169540,184.668610 87.106766,200.255035 C86.914185,248.070007 86.886192,295.886993 87.117279,343.701599 C87.201111,361.047760 102.780357,376.647125 119.590126,376.966614 C141.558426,377.384155 163.529892,377.634705 186.500000,377.957367 z"/>
                    <path fill="#FA7716" d="M245.972397,368.932251 C240.085632,368.024200 234.004013,367.774719 228.344040,366.100159 C194.056931,355.955627 171.236664,333.315704 160.420792,299.651215 C147.146667,258.335358 160.253662,214.488327 197.417297,186.719986 C216.390640,172.543259 237.689011,166.783234 261.400879,167.853317 C295.673553,169.399994 322.760651,184.476456 341.534149,212.221237 C377.044403,264.700684 355.535675,336.756195 296.861755,361.919708 C289.389038,365.124512 280.965118,366.111328 272.292114,368.311035 C271.375031,368.591034 271.147736,368.685699 270.920441,368.780334 C270.485870,368.756744 270.051300,368.733124 268.847168,368.787079 C260.709198,368.887177 253.340790,368.909698 245.972397,368.932251 M313.744904,290.201050 C311.316681,284.218628 308.655975,278.317383 306.530853,272.229156 C304.701569,266.988464 302.965729,261.613373 302.134033,256.153687 C301.228485,250.208542 297.709351,247.511459 293.261139,251.383453 C288.139771,255.841431 284.259949,261.752075 280.003845,267.160095 C278.874695,268.594849 278.343658,270.500305 277.537994,272.189667 C277.074310,272.099915 276.610626,272.010162 276.146973,271.920410 C276.021912,270.252655 275.595520,268.542969 275.820801,266.923950 C277.259399,256.583649 279.305756,246.306808 280.279083,235.927231 C282.281006,214.578644 266.575958,190.478485 246.358658,183.362244 C244.522598,182.716003 241.323303,182.619736 240.344940,183.702652 C239.127563,185.050110 239.217484,187.911926 239.357758,190.079956 C239.610977,193.992950 241.374130,198.092743 240.627365,201.728516 C238.910889,210.085220 237.451630,218.993942 233.351730,226.244446 C227.267532,237.004089 219.084091,246.594223 211.621826,256.553009 C200.104050,271.924164 195.726532,289.428436 199.267197,307.898071 C206.989532,348.181274 252.838989,364.791138 284.553223,346.586151 C305.642700,334.480164 316.275940,315.998016 313.744904,290.201050 z"/>
                </g>
            </svg>
        </a>
        <nav class="header-nav">
            <a href="/" class="nav-link">Home</a>
            <a href="pages/showcase.html" class="nav-link" target="_blank" rel="noopener">Showcase</a>
            <a href="pages/contact.html" class="nav-link">Contact</a>
        </nav>
    </header>

    <main>
        <section class="section hero">
            <div class="hero-content">
                <h1 class="title">FLARE</h1>
                <p class="tagline">take professional quality shots on mobile<br>with a diffusion-based photography stack</p>
                <button class="demo-button" onclick="window.open('pages/showcase.html', '_blank')">VIEW GALLERY</button>
            </div>
        </section>

        <section class="section product-section">
            <p class="product-tagline">
                FLARE makes every photo you capture on mobile look high quality and professionally shot using context-aware diffusion-models that enrich them in ways otherwise impossible with traditional camera modules.
            </p>
        </section>

        <section class="section demo-wrapper">
            <div class="demo-carousel">
                <button class="carousel-nav prev" aria-label="Previous demo">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path fill="currentColor" d="M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z"/>
                    </svg>
                </button>

                <div class="carousel-container">
                    <div class="carousel-track">
                        <div class="demo-item" data-title="Ultra-Low Light" data-description="Transform dark, noisy photos into bright, clear images without losing detail or adding noise.">
                            <div class="demo-content demo-lowlight">
                                <img src="assets/images/demo/lowlight_before.jpg" alt="Low light scene before enhancement" class="before">
                                <img src="assets/images/demo/lowlight_after.png" alt="Low light scene after enhancement" class="after">
                                <button class="demo-control" aria-label="Toggle light enhancement">
                                    <svg viewBox="0 0 24 24" width="24" height="24">
                                        <path fill="currentColor" d="M12,2A7,7 0 0,1 19,9C19,11.38 17.81,13.47 16,14.74V17A1,1 0 0,1 15,18H9A1,1 0 0,1 8,17V14.74C6.19,13.47 5,11.38 5,9A7,7 0 0,1 12,2M9,21V20H15V21A1,1 0 0,1 14,22H10A1,1 0 0,1 9,21M12,4A5,5 0 0,0 7,9C7,11.05 8.23,12.81 10,13.58V16H14V13.58C15.77,12.81 17,11.05 17,9A5,5 0 0,0 12,4Z"/>
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <div class="demo-item" data-title="50x+ Zoom" data-description="Achieve incredible zoom clarity beyond your phone's optical limits using AI-powered super-resolution.">
                            <div class="demo-content demo-zoom">
                                <img src="assets/images/demo/zoom_before.png" alt="Zoomed image before enhancement" class="before">
                                <img src="assets/images/demo/zoom_after.png" alt="Zoomed image after enhancement" class="after">
                                <button class="demo-control" aria-label="Toggle zoom">
                                    <svg viewBox="0 0 24 24" width="24" height="24">
                                        <path fill="currentColor" d="M15.5,14L20.5,19L19,20.5L14,15.5V14.71L13.73,14.43C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.43,13.73L14.71,14H15.5M9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14M12,10H10V12H9V10H7V9H9V7H10V9H12V10Z"/>
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <div class="demo-item" data-title="Subject Isolation" data-description="Automatically identify and enhance subjects while artistically blurring busy backgrounds.">
                            <div class="demo-content demo-subject">
                                <img src="assets/images/demo/busyimg_before.jpg" alt="Busy image before enhancement" class="before">
                                <img src="assets/images/demo/busyimg_after.png" alt="Busy image after enhancement" class="after">
                                <button class="demo-control" aria-label="Toggle subject focus">
                                    <svg viewBox="0 0 24 24" width="24" height="24">
                                        <path fill="currentColor" d="M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9M12,4.5C17,4.5 21.27,7.61 23,12C21.27,16.39 17,19.5 12,19.5C7,19.5 2.73,16.39 1,12C2.73,7.61 7,4.5 12,4.5M3.18,12C4.83,15.36 8.24,17.5 12,17.5C15.76,17.5 19.17,15.36 20.82,12C19.17,8.64 15.76,6.5 12,6.5C8.24,6.5 4.83,8.64 3.18,12Z"/>
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <div class="demo-item" data-title="Poor Camera Enhancement" data-description="Turn low-quality smartphone photos into professional-looking shots with enhanced detail and color.">
                            <div class="demo-content demo-subject">
                                <img src="assets/images/demo/shittycam_before.jpg" alt="Poor camera image before enhancement" class="before">
                                <img src="assets/images/demo/shittycam_after.png" alt="Poor camera image after enhancement" class="after">
                                <button class="demo-control" aria-label="Toggle camera quality">
                                    <svg viewBox="0 0 24 24" width="24" height="24">
                                        <path fill="currentColor" d="M4,4H7L9,2H15L17,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20H4A2,2 0 0,1 2,18V6A2,2 0 0,1 4,4M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9Z"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <button class="carousel-nav next" aria-label="Next demo">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path fill="currentColor" d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"/>
                    </svg>
                </button>

                <div class="demo-info">
                    <h3 class="demo-title"></h3>
                    <p class="demo-description"></p>
                </div>
            </div>
        </section>

        <section class="section strategies">
            <div class="strategy-container">
                <div class="strategy-box">
                    <h3>The Flare Cloud ISP</h3>
                    <div class="isp-comparison">
                        <div class="chip-container">
                            <div class="chip-box traditional-chip">
                                <div class="chip-title">
                                    <div class="title-text">Traditional<br>ISP Chip</div>
                                    <div class="hover-text">Fixed-function hardware<br>with limited capabilities</div>
                                </div>
                            </div>
                        </div>
                        <div class="chip-container">
                            <div class="chip-box flare-chip">
                                <div class="chip-title">
                                    <div class="title-text">FLARE</div>
                                    <div class="hover-text">Cloud-powered ISP with<br>AI enhancement</div>
                                </div>
                            </div>
                        </div>
                        <div class="comparison-table">
                            <table>
                                <tr>
                                    <td></td>
                                    <td>Delivers flagship-quality on low-cost sensors</td>
                                    <td>Fully corrects poor capture conditions</td>
                                    <td>Improves over device lifetime</td>
                                </tr>
                                <tr class="traditional-row">
                                    <td class="row-label">Traditional ISP</td>
                                    <td>✗</td>
                                    <td>✗</td>
                                    <td>✗</td>
                                </tr>
                                <tr class="flare-row">
                                    <td class="row-label">FLARE</td>
                                    <td>✓</td>
                                    <td>✓</td>
                                    <td>✓</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <a href="pages/contact.html" class="action-button reach-out-button">Reach Out</a>
                </div>
                
                <div class="strategy-box">
                    <h3>Flare Camera and Gallery App</h3>
                    <div class="phone-mockup"></div>
                    <a href="pages/showcase.html" class="action-button showcase-button" target="_blank" rel="noopener">App Showcase</a>
                </div>
            </div>
        </section>


        <footer class="footer">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-logo">
                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512">
                            <defs>
                                <mask id="footer-circle-mask">
                                    <circle cx="256" cy="256" r="256" fill="white"/>
                                </mask>
                            </defs>
                            <g mask="url(#footer-circle-mask)">
                                <path fill="#ff4500" d="M236.000000,513.000000 C157.352402,513.000000 79.204803,513.000000 1.028605,513.000000 C1.028605,342.394043 1.028605,171.788086 1.028605,1.091059 C171.564285,1.091059 342.128632,1.091059 512.846497,1.091059 C512.846497,171.666565 512.846497,342.333252 512.846497,513.000000 C420.788055,513.000000 328.644012,513.000000 236.000000,513.000000 M186.500000,377.957367 C249.621750,377.644836 312.743500,377.330933 375.865234,377.022308 C381.029907,376.997040 386.207428,376.769348 391.357269,377.043335 C412.701172,378.178772 427.182770,359.847809 427.068665,341.088135 C426.794067,295.939697 427.012054,250.788391 426.933075,205.638428 C426.925537,201.335388 426.534119,196.979691 425.791718,192.741135 C423.418518,179.192108 408.330627,165.526917 395.157654,165.065842 C380.690491,164.559479 366.195831,163.797897 351.746338,164.237915 C343.755859,164.481277 339.469849,160.997726 335.869995,154.759567 C329.795471,144.233032 323.501007,133.830566 317.140411,123.473351 C314.651550,119.420685 310.880157,117.046700 305.971466,117.043488 C273.650024,117.022339 241.328445,116.992805 209.007248,117.083107 C203.697815,117.097946 199.389221,119.413361 196.573349,124.135445 C194.441315,127.710724 192.263748,131.259338 190.070206,134.797348 C185.069138,142.863724 180.049194,150.918411 175.030014,158.973557 C172.684998,162.737061 169.243042,163.989243 164.878510,164.130371 C160.937271,164.257797 159.811981,161.976257 158.564240,159.050354 C158.163956,158.111694 156.494324,157.178375 155.389984,157.159790 C145.609894,156.995163 135.823593,156.919617 126.046875,157.148926 C124.640495,157.181915 122.309380,158.782410 122.065353,159.992172 C121.198471,164.289886 118.281776,165.209061 114.680908,166.135757 C99.220528,170.114578 87.169540,184.668610 87.106766,200.255035 C86.914185,248.070007 86.886192,295.886993 87.117279,343.701599 C87.201111,361.047760 102.780357,376.647125 119.590126,376.966614 C141.558426,377.384155 163.529892,377.634705 186.500000,377.957367 z"/>
                                <path fill="#FA7716" d="M245.972397,368.932251 C240.085632,368.024200 234.004013,367.774719 228.344040,366.100159 C194.056931,355.955627 171.236664,333.315704 160.420792,299.651215 C147.146667,258.335358 160.253662,214.488327 197.417297,186.719986 C216.390640,172.543259 237.689011,166.783234 261.400879,167.853317 C295.673553,169.399994 322.760651,184.476456 341.534149,212.221237 C377.044403,264.700684 355.535675,336.756195 296.861755,361.919708 C289.389038,365.124512 280.965118,366.111328 272.292114,368.311035 C271.375031,368.591034 271.147736,368.685699 270.920441,368.780334 C270.485870,368.756744 270.051300,368.733124 268.847168,368.787079 C260.709198,368.887177 253.340790,368.909698 245.972397,368.932251 M313.744904,290.201050 C311.316681,284.218628 308.655975,278.317383 306.530853,272.229156 C304.701569,266.988464 302.965729,261.613373 302.134033,256.153687 C301.228485,250.208542 297.709351,247.511459 293.261139,251.383453 C288.139771,255.841431 284.259949,261.752075 280.003845,267.160095 C278.874695,268.594849 278.343658,270.500305 277.537994,272.189667 C277.074310,272.099915 276.610626,272.010162 276.146973,271.920410 C276.021912,270.252655 275.595520,268.542969 275.820801,266.923950 C277.259399,256.583649 279.305756,246.306808 280.279083,235.927231 C282.281006,214.578644 266.575958,190.478485 246.358658,183.362244 C244.522598,182.716003 241.323303,182.619736 240.344940,183.702652 C239.127563,185.050110 239.217484,187.911926 239.357758,190.079956 C239.610977,193.992950 241.374130,198.092743 240.627365,201.728516 C238.910889,210.085220 237.451630,218.993942 233.351730,226.244446 C227.267532,237.004089 219.084091,246.594223 211.621826,256.553009 C200.104050,271.924164 195.726532,289.428436 199.267197,307.898071 C206.989532,348.181274 252.838989,364.791138 284.553223,346.586151 C305.642700,334.480164 316.275940,315.998016 313.744904,290.201050 z"/>
                            </g>
                        </svg>
                        <span class="footer-brand">FLARE</span>
                    </div>
                    <p class="footer-tagline">Professional mobile photography through AI</p>
                </div>

                <div class="footer-section">
                    <h4 class="footer-title">Product</h4>
                    <nav class="footer-nav">
                        <a href="pages/showcase.html" class="footer-link" target="_blank" rel="noopener">App Showcase</a>
                    </nav>
                </div>
            </div>

            <div class="footer-bottom">
                <p class="copyright">&copy; 2025 FLARE. All rights reserved.</p>
                <div class="footer-bottom-links">

                </div>
            </div>
        </footer>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
        // Initialize carousel
        const track = document.querySelector('.carousel-track');
        const items = Array.from(track.children);
        const prevButton = document.querySelector('.carousel-nav.prev');
        const nextButton = document.querySelector('.carousel-nav.next');
        const demoInfo = document.querySelector('.demo-info');
        const demoTitle = demoInfo.querySelector('.demo-title');
        const demoDescription = demoInfo.querySelector('.demo-description');
        let currentIndex = 0;

        // Set initial active state
        function updateCarousel() {
            const itemWidth = items[0].offsetWidth;
            const gap = 32; // gap between items
            const offset = (track.offsetWidth - itemWidth) / 2; // Center the active item
            const translateX = offset - (currentIndex * (itemWidth + gap));
            track.style.transform = `translateX(${translateX}px)`;
            
            items.forEach((item, index) => {
                item.classList.toggle('active', index === currentIndex);
            });

            // Update info
            const activeItem = items[currentIndex];
            demoTitle.textContent = activeItem.dataset.title;
            demoDescription.textContent = activeItem.dataset.description;
            demoInfo.classList.add('active');
        }

        // Navigation handlers
        prevButton.addEventListener('click', () => {
            currentIndex = (currentIndex - 1 + items.length) % items.length;
            updateCarousel();
        });

        nextButton.addEventListener('click', () => {
            currentIndex = (currentIndex + 1) % items.length;
            updateCarousel();
        });

        // Initialize carousel
        updateCarousel();

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft') {
                prevButton.click();
            } else if (e.key === 'ArrowRight') {
                nextButton.click();
            }
        });

        // Touch support
        let touchStartX = 0;
        let touchStartY = 0;
        let touchEndX = 0;
        let touchEndY = 0;
        let isSwiping = false;
        
        track.addEventListener('touchstart', (e) => {
            touchStartX = e.touches[0].clientX;
            touchStartY = e.touches[0].clientY;
            isSwiping = true;
        }, { passive: true });
        
        track.addEventListener('touchmove', (e) => {
            if (!isSwiping) return;
            
            touchEndX = e.touches[0].clientX;
            touchEndY = e.touches[0].clientY;
            
            // Calculate the horizontal and vertical distance
            const deltaX = touchEndX - touchStartX;
            const deltaY = touchEndY - touchStartY;
            
            // If vertical scrolling is dominant, stop handling the swipe
            if (Math.abs(deltaY) > Math.abs(deltaX)) {
                isSwiping = false;
                return;
            }
            
            // Prevent page scrolling while swiping carousel
            e.preventDefault();
            
            // Optional: Add visual feedback during swipe
            const swipeProgress = deltaX / track.offsetWidth;
            track.style.transform = `translateX(${deltaX}px)`;
            track.style.transition = 'none';
        }, { passive: false });
        
        track.addEventListener('touchend', () => {
            if (!isSwiping) return;
            
            const swipeDistance = touchEndX - touchStartX;
            const swipeThreshold = track.offsetWidth * 0.2; // 20% of container width
            
            track.style.transition = 'transform 0.3s ease';
            
            if (Math.abs(swipeDistance) > swipeThreshold) {
                if (swipeDistance > 0) {
                    prevButton.click();
                } else {
                    nextButton.click();
                }
            } else {
                // Reset position if swipe wasn't far enough
                updateCarousel();
            }
            
            isSwiping = false;
        });
        
        track.addEventListener('touchcancel', () => {
            if (isSwiping) {
                updateCarousel();
                isSwiping = false;
            }
        });

        // Handle header visibility
        const header = document.querySelector('.header');
        const demoSection = document.querySelector('.demo-wrapper');
        const strategiesSection = document.querySelector('.strategies');
        
        const observer = new IntersectionObserver(
            (entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        header.style.transform = 'translateY(-100%)';
                        header.style.pointerEvents = 'none';
                    } else {
                        const demoRect = demoSection.getBoundingClientRect();
                        const stratRect = strategiesSection.getBoundingClientRect();
                        
                        // Only show header if we're above both sections
                        if (demoRect.top > window.innerHeight && stratRect.top > window.innerHeight) {
                            header.style.transform = 'translateY(0)';
                            header.style.pointerEvents = 'auto';
                        }
                    }
                });
            },
            { 
                threshold: 0,
                rootMargin: '-64px 0px 0px 0px' // Account for header height
            }
        );

        observer.observe(demoSection);
        observer.observe(strategiesSection);

        // Optimize header backdrop filter during scroll
        const removeBackdrop = () => {
            if (!demoSection.getBoundingClientRect().top < 0) {
                header.style.backdropFilter = 'none';
                header.style.webkitBackdropFilter = 'none';
            }
        };
        const restoreBackdrop = () => {
            if (!demoSection.getBoundingClientRect().top < 0) {
                header.style.backdropFilter = 'blur(12px) saturate(150%)';
                header.style.webkitBackdropFilter = 'blur(12px) saturate(150%)';
            }
        };
        
        // Throttled scroll handler for better performance
        let ticking = false;
        window.addEventListener('scroll', () => {
            if (!ticking) {
                requestAnimationFrame(() => {
                    const shouldRemove = window.scrollY > 0;
                    header.style.backdropFilter = shouldRemove ? 'none' : 'blur(12px) saturate(150%)';
                    header.style.webkitBackdropFilter = shouldRemove ? 'none' : 'blur(12px) saturate(150%)';
                    ticking = false;
                });
                ticking = true;
            }
        }, { passive: true });


            
            // Handle demo controls
            document.querySelectorAll('.demo-control').forEach(control => {
                control.addEventListener('click', () => {
                    const demoContent = control.closest('.demo-content');
                    const afterImage = demoContent.querySelector('.after');
                    const beforeImage = demoContent.querySelector('.before');
                    const isActive = afterImage.style.opacity === '1';
                    const demoZoom = demoContent.classList.contains('demo-zoom') ? demoContent : null;

                    if (demoZoom) {
                        if (!isActive) {
                            demoZoom.classList.add('capturing');
                            createSilentShutterEffect();
                            setTimeout(() => {
                                demoZoom.classList.remove('capturing');
                                demoZoom.classList.add('captured');
                            }, 150);
                        } else {
                            demoZoom.classList.remove('captured');
                        }
                    }
                    
                    afterImage.style.opacity = isActive ? '0' : '1';
                    if (demoContent.classList.contains('demo-subject')) {
                        beforeImage.style.opacity = isActive ? '1' : '0';
                    }
                });
            });
        });
    </script>
</body>
</html>